<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>[DDD START SERIES] EP.2 아키텍처 개요 | SPRINGBOOT.KR</title>
<meta name="keywords" content="" />
<meta name="description" content="DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.
EP 2.1 네 개의 영역 아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역
 표현 응용 도메인 인프라스트럭처  이미지 참조 Layered Architecture
흐름도 표현 -&gt; 응용 -&gt; 도메인 -&gt; 인프라스트럭처
표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.
대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.
EP 2.2 계층 구조 아키텍처 게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다.">
<meta name="author" content="">
<link rel="canonical" href="https://www.springboot.kr/posts/java/start-ddd/ep2-start-ddd-model/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.f238f1b0ccea21e45d3c0112bdd442ca592e7287c4a346036dc9a8b461e5f0a0.css" integrity="sha256-8jjxsMzqIeRdPAESvdRCylkucofEo0YDbcmotGHl8KA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://www.springboot.kr/favicon_io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.springboot.kr/favicon_io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.springboot.kr/favicon_io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.springboot.kr/favicon_io/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.springboot.kr/favicon_io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.97.3" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PM2KLTYJRP"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-PM2KLTYJRP', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="[DDD START SERIES] EP.2 아키텍처 개요" />
<meta property="og:description" content="DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.
EP 2.1 네 개의 영역 아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역
 표현 응용 도메인 인프라스트럭처  이미지 참조 Layered Architecture
흐름도 표현 -&gt; 응용 -&gt; 도메인 -&gt; 인프라스트럭처
표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.
대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.
EP 2.2 계층 구조 아키텍처 게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.springboot.kr/posts/java/start-ddd/ep2-start-ddd-model/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-08T22:02:39&#43;09:00" />
<meta property="article:modified_time" content="2022-09-08T22:02:39&#43;09:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[DDD START SERIES] EP.2 아키텍처 개요"/>
<meta name="twitter:description" content="DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.
EP 2.1 네 개의 영역 아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역
 표현 응용 도메인 인프라스트럭처  이미지 참조 Layered Architecture
흐름도 표현 -&gt; 응용 -&gt; 도메인 -&gt; 인프라스트럭처
표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.
대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.
EP 2.2 계층 구조 아키텍처 게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.springboot.kr/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "[DDD START SERIES] EP.2 아키텍처 개요",
      "item": "https://www.springboot.kr/posts/java/start-ddd/ep2-start-ddd-model/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "[DDD START SERIES] EP.2 아키텍처 개요",
  "name": "[DDD START SERIES] EP.2 아키텍처 개요",
  "description": "DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.\nEP 2.1 네 개의 영역 아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역\n 표현 응용 도메인 인프라스트럭처  이미지 참조 Layered Architecture\n흐름도 표현 -\u0026gt; 응용 -\u0026gt; 도메인 -\u0026gt; 인프라스트럭처\n표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.\n대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.\nEP 2.2 계층 구조 아키텍처 게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다.",
  "keywords": [
    
  ],
  "articleBody": "DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.\nEP 2.1 네 개의 영역 아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역\n 표현 응용 도메인 인프라스트럭처  이미지 참조 Layered Architecture\n흐름도 표현 - 응용 - 도메인 - 인프라스트럭처\n표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.\n대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.\nEP 2.2 계층 구조 아키텍처 게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다.\n예를 들어 표현 계층은 응용 계층에 의존하고 응용 계층이 도메인 계층에 의존하지만, 반대로 인프라스트럭처 계층이 도메인에 의존하거나 도메인이 응용 계층에 의존하지 않는다.\n계층 구조를 엄격하게 적용한다면 상위 계층은 바로 아래 계층에만 의존을 가져야 하지만 구현의 편리함을 위해 계층 구조를 유연하게 적용하기도 한다.\nEP 2.3 DIP (의존성 역전 원칙) DIP는 저수준 모듈이 고수준 모듈에 의존하도록 바꾼다.\nSOLID programming for Arduino: The Dependency Inversion Principle\nDIP를 적용하면 위의 그림과 같이 저수준 모듈이 고수준 모듈에 의존하게 된다. 고수준 모듈이 저수준 모듈을 사용하려면 고수준 모듈이 저수준 모듈에 의존해야 하는데, 반대로 저수준 모듈이 고수준 모듈에 의존한다고 해서 이를 DIP(Dependency Inversion Principle)라 한다.\n2.3.1 DIP 주의사항 DIP를 잘못 생각하면 단순히 인터페이스와 구현 클래스를 분리하는 정도로 받아들일 수 있다.\nDIP의 핵심은 고수준 모듈이 저수준 모듈에 의존하지 않도록 하기 위함인데 DIP를 적용한 결과 구조만 보고 저수준 모듈에서 인터페이스를 추출하는 경우가 있다.\nDIP를 적용할 때 하위 기능을 추상화한 인터페이스는 고소준 모듈 관점에서 도출한다.\n2.3.2 DIP와 아키텍처 인프라스트럭처 영역은 구현 기술을 다루는 저수준 모듈이고 응용 영역과 도메인 영역은 고수준 모듈이다.\n인프라스트럭처 계층이 가장 하단에 위치하느 계층형 구조와 달리 아키텍터에 DIP를 적용하면\n[ 인프라스트럭처 ] | | | | v | [ 응용 ] | | | v v [ 도메인 ] 다음과 같이 인프라스트럭처 영역이 응용 영역과 도메인 영역에 의존하는 구조가 된다.\n인프라스트럭처에 위치한 클래스가 도메인이나 응용 영역에 정의한 인터페이스를 상속받아 구현하는 구조가 되므로 도메인과 응용 영역에 대한 영향을 주지 않거나 최소화하면서 구현 기술을 변경하는 것이 가능하다.\nEP 2.4 도메인 영역의 주요 구성요소  Entity Value Aggregate Repository Domain Service  2.4.1 Entity And Value 도메인 모델의 엔티티는 단순히 데이터를 담고 있는 데이터 구조라기보다는 데이터와 함께 기능을 제공하는 객체이다.\n도메인 관점에서 기능을 구현하고 기능 구현을 캡슐화해서 데이터가 임의로 변경되는 것을 막는다.\n도메인 모델의 엔티티는 두 개 이상의 데이터가 개념적으로 하나인 경우 벨류 타입을 이용해서 표현할 수 있다는 것이다.\nRDBMS와 같은 관계형 DB는 벨류 타입을 제대로 표현하기 힘들다.\nEP.1dㅔ서 설명한 것처럼 벨류는 불변으로 구현할 것을 권장하며, 엔티티의 벨류 타입 데이터를 변경할 때는 객체 자체를 완전히 교체한다는 것을 의미한다.\n2.4.2 Aggregate 도메인이 복잡해질때 도메인 모델에서 전체 구조를 이해하는 데 도움이 되는 것이 Aggregate 다.\nModeling Aggregates with DDD and Entity Framework\n그림에서 보이듯이 Aggregate는 관련 객체를 하나로 묶은 군집이다.\nAggregate를 사용하면 개별 객체가 아닌 관련 객체를 묶어서 객체 군집 단위로 모델을 바라볼 수 있게 된다. 개별 객체 간의 관계가 아닌 Aggregate 간의 관계로 도메인 모델을 이해하고 구현하게 되며, 이를 통해 큰 틀에서 도메인 모델을 관리할 수 있다.\n2.4.3 Repository 물리적인 저장소에 도메인 객체를 보관하기 위한 도메인 모델이 Repository 다. Entity나 Value가 요구사항에서 도출되는 도메인 모델이라면 Repository는 구현을 위한 도메인 모델이다.\nREFERENCE 도메인 주도 개발 시작하기\n제외된 내용  2.5 2.6 2.7   ",
  "wordCount" : "500",
  "inLanguage": "en",
  "datePublished": "2022-09-08T22:02:39+09:00",
  "dateModified": "2022-09-08T22:02:39+09:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.springboot.kr/posts/java/start-ddd/ep2-start-ddd-model/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SPRINGBOOT.KR",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.springboot.kr/favicon_io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<script>
    window.intergramId = "629395064";
    window.intergramCustomizations = {
        
        titleOpen: 'SPRINGBOOT.KR',
        cookieExpiration: 2,
        introMessage: '안녕하세요. 궁금한 건 채팅을 남겨주세요. 바로 대답할 수 있도록 노력 중입니다.',
        autoResponse: '잠시만 기다려 주세요...',
        autoNoResponse: '지금은 바쁜 것 같네요.. 다음에 연락 주세요..',
        mainColor: "#262934", 
        alwaysUseFloatingButton: true 
    };
</script>
<script id="intergram" type="text/javascript" src="/js/intergram.js"></script>
<header class="header">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap" rel="stylesheet">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.springboot.kr/" accesskey="h" title="SPRINGBOOT.KR (Alt + H)">SPRINGBOOT.KR</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.springboot.kr/posts" title="posts">
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href="https://www.springboot.kr/search" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="https://www.springboot.kr/archives" title="archives">
                    <span>archives</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main page">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.springboot.kr/">Home</a>&nbsp;»&nbsp;<a href="https://www.springboot.kr/posts/">Posts</a></div>
    <h1 class="post-title">
      [DDD START SERIES] EP.2 아키텍처 개요
    </h1>
    <div class="post-meta"><span title='2022-09-08 22:02:39 +0900 KST'>September 8, 2022</span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">목차</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#ep-21-%eb%84%a4-%ea%b0%9c%ec%9d%98-%ec%98%81%ec%97%ad" aria-label="EP 2.1 네 개의 영역">EP 2.1 네 개의 영역</a></li>
                    <li>
                        <a href="#ep-22-%ea%b3%84%ec%b8%b5-%ea%b5%ac%ec%a1%b0-%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98" aria-label="EP 2.2 계층 구조 아키텍처">EP 2.2 계층 구조 아키텍처</a></li>
                    <li>
                        <a href="#ep-23-dip-%ec%9d%98%ec%a1%b4%ec%84%b1-%ec%97%ad%ec%a0%84-%ec%9b%90%ec%b9%99" aria-label="EP 2.3 DIP (의존성 역전 원칙)">EP 2.3 DIP (의존성 역전 원칙)</a><ul>
                            
                    <li>
                        <a href="#231-dip-%ec%a3%bc%ec%9d%98%ec%82%ac%ed%95%ad" aria-label="2.3.1 DIP 주의사항">2.3.1 DIP 주의사항</a></li>
                    <li>
                        <a href="#232-dip%ec%99%80-%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98" aria-label="2.3.2 DIP와 아키텍처">2.3.2 DIP와 아키텍처</a></li></ul>
                    </li>
                    <li>
                        <a href="#ep-24-%eb%8f%84%eb%a9%94%ec%9d%b8-%ec%98%81%ec%97%ad%ec%9d%98-%ec%a3%bc%ec%9a%94-%ea%b5%ac%ec%84%b1%ec%9a%94%ec%86%8c" aria-label="EP 2.4 도메인 영역의 주요 구성요소">EP 2.4 도메인 영역의 주요 구성요소</a><ul>
                            
                    <li>
                        <a href="#241-entity-and-value" aria-label="2.4.1 Entity And Value">2.4.1 Entity And Value</a></li>
                    <li>
                        <a href="#242-aggregate" aria-label="2.4.2 Aggregate">2.4.2 Aggregate</a></li>
                    <li>
                        <a href="#243-repository" aria-label="2.4.3 Repository">2.4.3 Repository</a></li></ul>
                    </li>
                    <li>
                        <a href="#reference" aria-label="REFERENCE">REFERENCE</a></li>
                    <li>
                        <a href="#%ec%a0%9c%ec%99%b8%eb%90%9c-%eb%82%b4%ec%9a%a9" aria-label="제외된 내용">제외된 내용</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        document.querySelector(`.inner ul li a[href="#${activeElement.getAttribute('id')}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            if (element === activeElement ){
                document.querySelector(`.inner ul li a[href="#${element.getAttribute('id')}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${element.getAttribute('id')}"]`).classList.remove('active');
            }
        })
    }, false);

    
    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><p><code>DDD START SERIES는 도메인 주도 개발 시작하기 책을 참고 하여 작성된 요약 글 입니다.</code></p>
<h3 id="ep-21-네-개의-영역">EP 2.1 네 개의 영역<a hidden class="anchor" aria-hidden="true" href="#ep-21-네-개의-영역">#</a></h3>
<p>아키텍처를 설계할 떄 출현하는 전형적인 네 가지의 영역</p>
<ul>
<li>표현</li>
<li>응용</li>
<li>도메인</li>
<li>인프라스트럭처</li>
</ul>
<p><code>이미지 참조</code>
<img loading="lazy" src="http://uniknow.github.io/AgileDev/site/0.1.8-SNAPSHOT/parent/ddd/core/images/LayersAndDDD.png" alt="domain-driven-design"  />

<a href="http://uniknow.github.io/AgileDev/site/0.1.8-SNAPSHOT/parent/ddd/core/layered_architecture.html">Layered Architecture</a></p>
<p>흐름도 <strong>표현 -&gt; 응용 -&gt; 도메인 -&gt; 인프라스트럭처</strong></p>
<p>표현, 응용, 도메인 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다.</p>
<p>대신 인프라스트럭처 영역에서 제공한는 기능을 사용해서 필요한 기능을 개발한다.</p>
<h3 id="ep-22-계층-구조-아키텍처">EP 2.2 계층 구조 아키텍처<a hidden class="anchor" aria-hidden="true" href="#ep-22-계층-구조-아키텍처">#</a></h3>
<p>게층 구조는 그 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다.</p>
<p>예를 들어 표현 계층은 응용 계층에 의존하고 응용 계층이 도메인 계층에 의존하지만, 반대로 인프라스트럭처 계층이 도메인에 의존하거나 도메인이 응용 계층에 의존하지 않는다.</p>
<p>계층 구조를 엄격하게 적용한다면 상위 계층은 바로 아래 계층에만 의존을 가져야 하지만 구현의 편리함을 위해 계층 구조를 유연하게 적용하기도 한다.</p>
<h3 id="ep-23-dip-의존성-역전-원칙">EP 2.3 DIP (의존성 역전 원칙)<a hidden class="anchor" aria-hidden="true" href="#ep-23-dip-의존성-역전-원칙">#</a></h3>
<p>DIP는 저수준 모듈이 고수준 모듈에 의존하도록 바꾼다.</p>
<p><img loading="lazy" src="https://miro.medium.com/max/1400/1*vUtSx8-gdvIreENjRcvt7w.png" alt="dip-example"  />

<a href="https://levelup.gitconnected.com/solid-programming-for-arduino-the-dependency-inversion-principle-4ce3bdb787d1">SOLID programming for Arduino: The Dependency Inversion Principle</a></p>
<p>DIP를 적용하면 위의 그림과 같이 저수준 모듈이 고수준 모듈에 의존하게 된다. 고수준 모듈이 저수준 모듈을 사용하려면 고수준 모듈이 저수준 모듈에 의존해야 하는데, 반대로 저수준 모듈이 고수준 모듈에 의존한다고 해서 이를 DIP(Dependency Inversion Principle)라 한다.</p>
<h4 id="231-dip-주의사항">2.3.1 DIP 주의사항<a hidden class="anchor" aria-hidden="true" href="#231-dip-주의사항">#</a></h4>
<p>DIP를 잘못 생각하면 단순히 인터페이스와 구현 클래스를 분리하는 정도로 받아들일 수 있다.</p>
<p>DIP의 핵심은 고수준 모듈이 저수준 모듈에 의존하지 않도록 하기 위함인데 DIP를 적용한 결과 구조만 보고 저수준 모듈에서 인터페이스를 추출하는 경우가 있다.</p>
<p>DIP를 적용할 때 하위 기능을 추상화한 인터페이스는 고소준 모듈 관점에서 도출한다.</p>
<h4 id="232-dip와-아키텍처">2.3.2 DIP와 아키텍처<a hidden class="anchor" aria-hidden="true" href="#232-dip와-아키텍처">#</a></h4>
<p>인프라스트럭처 영역은 구현 기술을 다루는 저수준 모듈이고 응용 영역과 도메인 영역은 고수준 모듈이다.</p>
<p>인프라스트럭처 계층이 가장 하단에 위치하느 계층형 구조와 달리 아키텍터에 DIP를 적용하면</p>
<pre tabindex="0"><code>[   인프라스트럭처   ]
 |             |
 |             |
 v             |
[   응용   ]    |
 |             |
 v             v
[      도메인      ]
</code></pre><p>다음과 같이 인프라스트럭처 영역이 응용 영역과 도메인 영역에 의존하는 구조가 된다.</p>
<p>인프라스트럭처에 위치한 클래스가 도메인이나 응용 영역에 정의한 인터페이스를 상속받아 구현하는 구조가 되므로 도메인과 응용 영역에 대한 영향을 주지 않거나 최소화하면서 구현 기술을 변경하는 것이 가능하다.</p>
<h3 id="ep-24-도메인-영역의-주요-구성요소">EP 2.4 도메인 영역의 주요 구성요소<a hidden class="anchor" aria-hidden="true" href="#ep-24-도메인-영역의-주요-구성요소">#</a></h3>
<ul>
<li>Entity</li>
<li>Value</li>
<li>Aggregate</li>
<li>Repository</li>
<li>Domain Service</li>
</ul>
<h4 id="241-entity-and-value">2.4.1 Entity And Value<a hidden class="anchor" aria-hidden="true" href="#241-entity-and-value">#</a></h4>
<p>도메인 모델의 엔티티는 단순히 데이터를 담고 있는 데이터 구조라기보다는 데이터와 함께 기능을 제공하는 객체이다.</p>
<p>도메인 관점에서 기능을 구현하고 기능 구현을 캡슐화해서 데이터가 임의로 변경되는 것을 막는다.</p>
<p>도메인 모델의 엔티티는 두 개 이상의 데이터가 개념적으로 하나인 경우 벨류 타입을 이용해서 표현할 수 있다는 것이다.</p>
<p>RDBMS와 같은 관계형 DB는 벨류 타입을 제대로 표현하기 힘들다.</p>
<p>EP.1dㅔ서 설명한 것처럼 벨류는 불변으로 구현할 것을 권장하며, 엔티티의 벨류 타입 데이터를 변경할 때는 객체 자체를 완전히 교체한다는 것을 의미한다.</p>
<h4 id="242-aggregate">2.4.2 Aggregate<a hidden class="anchor" aria-hidden="true" href="#242-aggregate">#</a></h4>
<p>도메인이 복잡해질때 도메인 모델에서 전체 구조를 이해하는 데 도움이 되는 것이 Aggregate 다.</p>
<p><img loading="lazy" src="https://kalele.io/wp-content/uploads/2014/10/FourSmallAggregates.png" alt="Modeling Aggregates with DDD and Entity Framework"  />

<a href="https://kalele.io/modeling-aggregates-with-ddd-and-entity-framework/">Modeling Aggregates with DDD and Entity Framework</a></p>
<p>그림에서 보이듯이 Aggregate는 관련 객체를 하나로 묶은 군집이다.</p>
<p>Aggregate를 사용하면 개별 객체가 아닌 관련 객체를 묶어서 객체 군집 단위로 모델을 바라볼 수 있게 된다. 개별 객체 간의 관계가 아닌 Aggregate 간의 관계로 도메인 모델을 이해하고 구현하게 되며, 이를 통해 큰 틀에서 도메인 모델을 관리할 수 있다.</p>
<h4 id="243-repository">2.4.3 Repository<a hidden class="anchor" aria-hidden="true" href="#243-repository">#</a></h4>
<p>물리적인 저장소에 도메인 객체를 보관하기 위한 도메인 모델이 Repository 다. Entity나 Value가 요구사항에서 도출되는 도메인 모델이라면 Repository는 구현을 위한 도메인 모델이다.</p>
<h3 id="reference">REFERENCE<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h3>
<p><img loading="lazy" src="/images/books/start-ddd.jpeg" alt="itssobeauti"  />

도메인 주도 개발 시작하기</p>
<h3 id="제외된-내용">제외된 내용<a hidden class="anchor" aria-hidden="true" href="#제외된-내용">#</a></h3>
<ul>
<li>2.5</li>
<li>2.6</li>
<li>2.7</li>
</ul>
<hr>
<p><img loading="lazy" src="https://thumbs.gfycat.com/CoarseWhisperedHammerkop-size_restricted.gif" alt="itssobeauti"  />
</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="next" href="https://www.springboot.kr/posts/java/start-ddd/chp1-start-ddd-model/">
    <span class="title">Next Page »</span>
    <br>
    <span>[DDD START SERIES] EP.1 도메인 모델 시작하기</span>
  </a>
</nav>

  </footer><script src="https://utteranc.es/client.js"
        repo="nice7677/nice7677.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://www.springboot.kr/">SPRINGBOOT.KR</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
